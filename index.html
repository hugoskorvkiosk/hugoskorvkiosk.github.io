<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>A-frame webapp</title>
    <meta name="description" content="Hello, World! - A-Frame">
     <script src="https://aframe.io/releases/0.3.0/aframe.js"></script>
      <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v2.5.2/dist/aframe-extras.js"></script>
      <script src="https://rawgit.com/oscarmarinmiro/aframe-video-controls/master/dist/aframe-video-controls.min.js"></script>
      <script src="https://cdn.rawgit.com/tizzle/aframe-sprite-component/master/dist/aframe-sprite-component.min.js"></script>
      <script src="https://rawgit.com/IdeaSpaceVR/aframe-ui-modal-component/master/dist/aframe-ui-modal-component.min.js"></script>
      <script src="https://rawgit.com/ngokevin/kframe/master/dist/kframe.min.js"></script>
      <script src="https://rawgit.com/ngokevin/aframe-animation-component/master/dist/aframe-animation-component.min.js"></script>
   
     <script src"js/script.js"></script>
     <script src="js/components/raycaster.js"></script>
      <script src="js/components/cursor-listener.js"></script>
       <script src="js/components/set-sky.js"></script>
  </head>
  <body>
      
    
    <a-scene>
        
        <a-assets>
        <img id="curvedimg" src="randomimage.jpg">
        <video id="vid" autoplay="false" controls="true"  src="randomvideo.mp4" >
        <img id="play" src="play.jpg">
        <img id="pause" src="pause.jpg">
      
        </a-assets>
        
        
        <a-grid height="500" width="500" position="0 -15 0"> </a-grid>
            
        <a-entity id="player" collider-check>
        <a-entity raycaster="objects: .collidable" position="0 -0.9 0" rotation="90 0 0"></a-entity>
        </a-entity>
            
        <a-entity set-sky="https://c3.staticflickr.com/2/1475/26239222850_cabde81c39_k.jpg" id="playbox" onclick="playVid()" class="clickable" geometry="primitive: box" position="1 0 0" material="src: #play"  event-set__1="_event: click; scale: 1.5 1.5 1.5; _target: #vidbox" look-at="[camera]">
            <a-animation attribute="material.opacity" begin="fade" to="0"></a-animation>
            <a-animation attribute="material.opacity" begin="unfade" to="1"></a-animation>
        </a-entity>
            
        <a-entity layout="type: line; margin: 2" position="0 15 -5" look-at="[camera]" selectable >
          <a-box material="src: #play"></a-box>
          <a-box></a-box>
          <a-box></a-box>
        </a-entity>
            
  
            
        <a-sky></a-sky>
            
          
        <!--    
        <a-entity selectable>
        <a-entity position="-5 1 -2" geometry="primitive: sphere" material="color: #5f0"></a-entity>
        <a-entity id="blue" position="-2 0 -2" geometry="primitive: box" material="color: #0af"></a-entity>
        <a-entity position="2 1 -2" rotation="0 45 0 " geometry="primitive: box" material="color: #f0a"></a-entity>
        -->

        <a-entity id="pausebox" onclick="pauseVid()" class="clickable" geometry="primitive: box" position="2 0 0" material="src:#pause; opacity: 0"  event-set__1="_event: click; scale: 1 1 1; _target: #vidbox">
             <a-animation attribute="material.opacity" begin="fade" to="0"></a-animation>
             <a-animation attribute="material.opacity" begin="unfade" to="1"></a-animation>    
        </a-entity>  
      
        <a-video id="vidbox" class="collidable" src="#vid" width="36" height="20" position="0 10 -30" look-at="[camera]" ></a-video>
        <a-entity position="0.0 -3.0 -20" video-controls="src:#vid; size:7" look-at="[camera]">
        
        </a-entity>
            
        <!--
        <a-entity ui-modal visible="false">
          <a-plane width="3" height="1" color="red" position="0 -1.2 0"></a-plane>
          <a-plane width="3" height="1" color="green" position="0 0 0"></a-plane>
          <a-plane width="3" height="1" color="blue" position="0 1.2 0"></a-plane>
        </a-entity>
            -->
            
        <!--<a-curvedimage src="#curvedimg" height="3.0" radius="5.7" theta-length="72"
                 rotation="0 100 0" scale="0.8 0.8 0.8"></a-curvedimage>-->
  
           <!-- 
        <a-entity camera>
            <a-entity cursor="fuse: true; fuseTimeout: 500"
                    raycaster="far: 20; interval: 1000; objects: .clickable"
                    position="0 0 -1"
                    geometry="primitive: ring"
                    material="color: black; shader: flat">
                <a-animation begin="click" easing="ease-in" attribute="scale"
                   fill="backwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
                <a-animation begin="cursor-fusing" easing="ease-in" attribute="scale"
                   fill="forwards" from="1 1 1" to="0.1 0.1 0.1"></a-animation>
            </a-entity>
        </a-entity>
            
        <a-entity id="box" cursor-listener geometry="primitive: box" material="color: blue"></a-entity>
        -->
            
                    
         <a-cylinder color="#F55" radius="0.1" position="15 0 0"
                animation="property: color; dir: alternate; dur: 1000;
                           easing: easeInSine; loop: true; to: #5F5"
                animation__scale="property: scale; dir: alternate; dur: 200;
                           easing: easeInSine; loop: true; to: 10 0 0"
                animation__yoyo="property: position; dir: alternate; dur: 1000;
                                 easing: easeInSine; loop: true; to: 10.2 1 0">
        </a-cylinder>
            
            
        
            
        <a-entity position="0 2.2 4">
            <a-entity id="camera" camera look-controls wasd-controls touch-controls   >
              <a-entity position="0 0 -3"
                        geometry="primitive: ring; radiusOuter: 0.09;
                                  radiusInner: 0.07;"
                        material="color: #4CC3D9; shader: flat"
                        cursor="maxDistance: 30; fuse: true; fuseTimeout: 10" >
                <a-animation begin="click" easing="ease-in" attribute="scale"
                     fill="backwards" from="0.1 0.1 0.1" to="1 1 1" dur="150"></a-animation>
                <a-animation begin="fusing" easing="ease-in" attribute="scale"
                     fill="forwards" from="1 1 1" to="0.1 0.1 0.1" dur="150"></a-animation>
              </a-entity>
            </a-entity>
        </a-entiy>

            
       <!-- <a-sprite position="0 4 0" resize="2 2 2" src="randomimage.jpg"></a-sprite> -->
        
        <!-- <a-sky color="#ECECEC"></a-sky> -->
   
        
        <a-light type="ambient" color="#FFFFFF" intensity="2"></a-light>
        <a-light color="#ccc" position="0 30 0" distance="100" intensity="0.4" type="point"></a-light>
        <a-light color="#ccc" position="3 10 -10" distance="50" intensity="0.4" type="point"></a-light>
            
    
            
    </a-scene>
        
        <script>
        
        var vid = document.querySelector("#vid");
        var playbox = document.querySelector("#playbox");
        var pausebox = document.querySelector("#pausebox");

        function playVid() {
            vid.play();
            pausebox.emit('fade');
            document.querySelector('#playbox').emit('fade');
            document.querySelector('#pausebox').emit('unfade');
            console.log("play it");
        }

        function pauseVid() {
            vid.pause();
            document.querySelector('#playbox').emit('unfade');
            document.querySelector('#pausebox').emit('fade');
            console.log("pause it");
        } 
            
        </script>
  </body>
</html>
